define(["jquery","text!tpls/websiteManagement/FAQManagementEdit.html","artTemplate","common/amdApi","../common/getPage","FAQmanagement/getData"],function(e,t,a,n,i,o){return function(r,l,s,d){e("#FAQEdit").remove();var f=i(e(".kandao-FAQ"),10,!0);f.json.q=s,f.json.type=d,n.ajax({url:"official/faq/"+r+"/info",type:"get"},function(i){i.result.FaqType=l.result;var s=a.render(t,i.result),d=e(s).on("submit","form",function(t){t.preventDefault();var a=e('#FAQEdit textarea[name = "title"]').val(),i=e('#FAQEdit textarea[name = "title_en"]').val(),l=e('#FAQEdit textarea[name = "answer"]').val(),s=e('#FAQEdit textarea[name = "answer_en"]').val(),m=e("#FAQEdit #faqType").val(),p={id:r,title:a,title_en:i,answer:l,answer_en:s,type_id:m};if(!e.trim(a)||!e.trim(l)||!m)return void alert("问题描述/问题答案/问题类型是必填项！");n.ajax({url:"official/faq/"+r+"/change",type:"post",json:JSON.stringify(p)},function(){n.ajax({url:"official/faq/list",type:"get",json:f.json},function(t){o.getListData(t),setTimeout(function(){d.modal("hide"),e(".modal-backdrop").css("display","none")},300)})})}).appendTo("body").modal();e("#FAQEdit #faqType option").each(function(t,a){e(a).val()==i.result.type_id&&e(this).prop("selected",!0)})})}});