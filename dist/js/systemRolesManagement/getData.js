define(["jquery","common/amdApi"],function(t,a){return{getListData:function(a){for(var n="",e=0;e<a.result.data.length;e++){var o=a.result.data[e];n+='<tr id="'+o.id+'"><td>'+o.name+"</td><td>"+o.description+"</td><td>"+o.member_count+'</td><td><span class="btnEdit">编辑</span><span class="btnCopy">复制</span><span class="btnDelete">删除</span></td></tr>'}t(".kandao-systemRoles").find("table tbody").html(n)},myAjax:function(n){var e=this;a.ajax({url:"backend/permissions/roles",type:"get",json:n},function(o){e.getListData(o);var i=Math.ceil(o.result.count/10);o.result.index=i,t(".accoutSearchContent>p").text("总计"+o.result.count+"条信息"),t(".accoutList-bottom>p").text("每页显示10条信息,共"+i+"页");var s;s=i<6?i:6,1==i?t(".pagination").hide():t(".pagination").show(),function(o,i,s){t(".kandao-systemRoles").find(".pagination").jBootstrapPage({pageSize:o,total:s,pageNow:n.page,maxPageButton:i,onPageClicked:function(t,n){localStorage.setItem("currentPage","(pageIndex + 1)");var o={limit:10,page:n+1};a.ajax({url:"backend/permissions/roles",type:"get",json:o},function(t){e.getListData(t)})}})}(10,s,o.result.count),n.page>6&&(t(".pagination .goTo input").val(n.page),t(".go").click(),t(".pagination .goTo input").val(""))})}}});