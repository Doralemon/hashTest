define(["jquery","common/amdApi"],function(t,a){return{getListData:function(a){for(var n=[],e=0;e<a.result.data.length;e++){var o=a.result.data[e],i='<tr id="'+o.id+'"><td>'+o.name+"</td><td>"+o.description+"</td><td>"+o.m_type+"</td><td>"+o.number+"</td><td>"+o.owner+"</td><td>"+o.date_created+'</td><td><button type="button" class="btn btn-md btnInfo">详情</button><button type="button" class="btn btn-md btnDelete">删除</button></td></tr>';n.push(i)}var d=n.join("");t(".kandao-playList").find(".playSearchContent tbody").html(d)},getInfoListData:function(a){for(var n=[],e=0;e<a.result.data.length;e++){var o=a.result.data[e],i='<tr id="'+o.column_id+'"><td>'+o.name+"</td><td>"+o.description+"</td><td>"+o.num+'</td><td><button type="button" class="btn btn-default infoDelete">移除</button></td></tr>';n.push(i)}var d=n.join("");t(".kandao-mediaPlayInfo").find(".playInfoContainer tbody").html(d)},myAjax:function(n,e){var o=this;o.getListData(e);var i=Math.ceil(e.result.count/10);e.result.index=i,t(".playSearchContent>p").text("总计"+e.result.count+"条信息"),t(".playList-bottom>p").text("每页显示10条信息,共"+i+"页");var d;d=i<6?i:6,1==i?t(".pagination").hide():t(".pagination").show(),function(e,i,d){t(".kandao-playList").find(".pagination").jBootstrapPage({pageSize:e,total:d,pageNow:n.page,maxPageButton:i,onPageClicked:function(t,e){n.page=e+1,a.ajax({url:"medias/playlists",type:"get",json:n},function(t){o.getListData(t)})}})}(10,d,e.result.count),n.page>6&&(t(".pagination .goTo input").val(n.page),t(".go").click(),t(".pagination .goTo input").val(""))},myInfoAjax:function(n,e){var o=this;a.ajax({url:"medias/playlists/"+e+"/"+n+"/members",type:"get"},function(a){o.getInfoListData(a),t(".playInfo-bottom>p").text("总计"+a.result.count+"条结果")})}}});