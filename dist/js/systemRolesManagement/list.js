define(["jquery","text!tpls/systemBackend/rolesManagement.html","artTemplate","common/amdApi","systemRolesManagement/roleAdd","systemRolesManagement/roleEdit","systemRolesManagement/delete","systemRolesManagement/getData","common/getPage","bootstrap","page"],function(e,t,n,a,s,o,r,l,i){return function(c){var m=i(e(".kandao-systemRoles"),10,c.flag1);1!=e(".kandao-systemRoles table tbody tr").length||c.flag2||(m.json.page=m.json.page-1||1),a.ajax({url:"backend/permissions/list",type:"get"},function(a){var i=n.render(t,{}),d=e(i).on("click",".newAdd",function(){c.flag1=!1,s(a)}).on("click",".btnDelete",function(){c.flag2=!1;var t=e(this).parents("tr").attr("id");r(t)}).on("click",".btnEdit",function(){var t=e(this).parents("tr").attr("id");t=parseInt(t),o(t,"backend/permissions/roles/"+t+"/change")}).on("click",".btnCopy",function(){var t=e(this).parents("tr").attr("id");t=parseInt(t),o(t,"backend/permissions/roles/add","-副本")});c.flag1=!0,c.flag2=!0,e(".kandao-contentBody").html(d),l.myAjax(m.json),e(".breadcrumb li").eq(0).on("click",function(){e(".home").trigger("click")})})}});