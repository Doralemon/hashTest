define(["jquery","text!tpls/productionVersionEdit.html","artTemplate","common/amdApi","productionVersionManagement/getData","common/checked","productionVersionManagement/toggleLanguage"],function(e,n,t,a,o,r,i){return function(s,d){var d=parseInt(d);e("#editVersionSon").remove(),a.ajax({url:"softwares/"+s+"/versions/"+d,type:"get"},function(u){var c=u.result.status,p=t.render(n,u.result),v=e(p).on("submit","form",function(){var n=e('#editVersionSon input[name="version_name"]').val(),t=e('#editVersionSon input[name="version_code"]').val();t=parseInt(t);var r=e("#editVersionSon textarea.textCh").val(),i=e("#editVersionSon textarea.textEn").val(),u=e('#editVersionSon select[name="status"]').val(),c={version_name:n,version_code:t,description:r,description_en:i,status:u};return a.ajax({url:"softwares/"+s+"/versions/"+d+"/change",type:"post",json:JSON.stringify(c)},function(){var n=1;e(".kandao-versionManagement .pagination>li").each(function(t,a){e(a).hasClass("active")&&(n=e(a).children("a").attr("page"),n=parseInt(n))});var t={limit:10,page:n};a.ajax({url:"softwares/"+s+"/versions",type:"get",json:t},function(e){o.getInfoData(e),v.modal("hide")})}),!1}).appendTo("body").modal();i(v);var l=e("#versionStatus option");r.getSelected(l,c)})}});