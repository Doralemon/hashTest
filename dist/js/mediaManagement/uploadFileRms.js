define(["jquery","artTemplate","common/amdApi","fileinput"],function(a,n,t){return function(n,e,c,i){var o=!0;a(function(){n.find(".uploadSubmit").click(function(){if(o&&(o=!1,a("#picID").val())){var n=new FormData(e[0]);c.flag=!1,a.ajax({url:t.getFileUrl()+"upload_action/",type:"post",data:n,cache:!1,contentType:!1,processData:!1,success:function(a){c.flag=!0,i&&i(a),o=!0},error:function(a){c.flag=!0,alert("上传文件错误，请选择jpg格式的图片重新上传！"),o=!0}})}})})}});