define(["jquery","common/amdApi"],function(t,n){return{getListData:function(n){for(var a=[],o=0;o<n.result.data.length;o++){var e=n.result.data[o],i='<tr id="'+e.id+'"><td>'+e.title+"</td><td>"+e.abstract+"</td><td>"+e.creator+"</td><td>"+e.date_created+'</td><td><button type="button" class="btn btn-md btnInfo">详情</button><button type="button" class="btn btn-md btnEdit">编辑</button><button type="button" class="btn btn-md toTop" style="display:none">置顶</button><button type="button" class="btn btn-md btnDelete">删除</button></td></tr>';a.push(i)}var u=a.join("");t(".kandao-news").find(".reportSearchContent tbody").html(u)},myAjax:function(a,o){var e=this;e.getListData(o);var i=Math.ceil(o.result.count/10);o.result.index=i,t(".reportSearchContent>p").text("总计"+o.result.count+"条信息"),t(".reportList-bottom>p").text("每页显示10条信息,共"+i+"页");var u;u=i<6?i:6,1==i?t(".pagination").hide():t(".pagination").show(),function(o,i,u){t(".kandao-news").find(".pagination").jBootstrapPage({pageSize:o,total:u,pageNow:a.page,maxPageButton:i,onPageClicked:function(t,o){a.page=o+1,n.ajax({url:"official/kd_news/list",type:"get",json:a},function(t){e.getListData(t)})}})}(10,u,o.result.count),a.page>6&&(t(".pagination .goTo input").val(a.page),t(".go").click(),t(".pagination .goTo input").val(""))}}});