define(["jquery","text!tpls/mediaManagement/mediaPlayAddTag.html","artTemplate","common/amdApi","mediaPlayList/infoCloumnSearch","mediaPlayList/getData"],function(a,e,n,t,d,i){return function(o,m){var l=[],r=[];a("#PlayAddTag").remove(),t.ajax({url:"medias/playlists/"+m+"/"+o+"/members_columns",type:"get"},function(s){s.result.has_selected_info.forEach(function(a,e){l.push(a.id)});var u=n.render(e,s.result);$mediaPlayAddTag=a(u).on("submit","form",function(e){e.preventDefault(),$mediaPlayAddTag.find(".selCloumn .sBox").each(function(e,n){r.push(a(n).attr("id"))});var n={before_column:l.join(","),after_column:r.join(",")};t.ajax({url:"medias/playlists/"+m+"/"+o+"/members_add",type:"post",json:JSON.stringify(n)},function(a){i.myInfoAjax(o,m),$mediaPlayAddTag.modal("hide")})}).appendTo("body").modal(),d.search(),d.moveCloumn()})}});