define(["jquery","common/amdApi"],function(t,n){return{getListData:function(n){for(var a=[],e=0;e<n.result.data.length;e++){var o=n.result.data[e],i='<tr id="'+o.id+'"><td>'+o.title+"</td><td>"+o.source+"</td><td>"+o.description+'</td><td><a target="_blank" href="'+o.source_url+'">'+o.source_url+"</a></td><td>"+o.creator+"</td><td>"+o.date_created+'</td><td><button type="button" class="btn btn-md btnEdit">编辑</button><button type="button" class="btn btn-md toTop" style="display:none">置顶</button><button type="button" class="btn btn-md btnDelete">删除</button></td></tr>';a.push(i)}var r=a.join("");t(".kandao-report").find(".reportSearchContent tbody").html(r)},myAjax:function(a,e){var o=this;o.getListData(e);var i=Math.ceil(e.result.count/10);e.result.index=i,t(".reportSearchContent>p").text("总计"+e.result.count+"条信息"),t(".reportList-bottom>p").text("每页显示10条信息,共"+i+"页");var r;r=i<6?i:6,1==i?t(".pagination").hide():t(".pagination").show(),function(e,i,r){t(".kandao-report").find(".pagination").jBootstrapPage({pageSize:e,total:r,pageNow:a.page,maxPageButton:i,onPageClicked:function(t,e){a.page=e+1,n.ajax({url:"official/media_report/list",type:"get",json:a},function(t){o.getListData(t)})}})}(10,r,e.result.count),a.page>6&&(t(".pagination .goTo input").val(a.page),t(".go").click(),t(".pagination .goTo input").val(""))}}});